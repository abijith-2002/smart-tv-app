{"is_source_file": true, "format": "JavaScript", "description": "This file contains client-side JavaScript code for managing keyboard and remote control navigation within a Smart TV application. It includes utility functions for DOM querying, page identification, key event handling, focus management, and page-specific initialization such as the Video Detail page. The code facilitates TV remote button mappings, on-screen focus behavior, and navigation logic across different app pages.", "external_files": [], "external_methods": ["window.tizen", "document.querySelector", "document.querySelectorAll", "window.location.href", "window.tizen", "tryFocus"], "published": [], "classes": [], "methods": [{"name": "qs(sel, ctx)", "description": "Shorthand for document.querySelector, optionally within a given context.", "scope": "", "scopeKind": ""}, {"name": "qsa(sel, ctx)", "description": "Shorthand for document.querySelectorAll wrapped in an Array, optionally within a given context.", "scope": "", "scopeKind": ""}, {"name": "clamp(v, min, max)", "description": "Ensures a value is within a specified min and max range.", "scope": "", "scopeKind": ""}, {"name": "tryFocus(el)", "description": "Attempts to focus an element, handling exceptions and scrolling into view.", "scope": "", "scopeKind": ""}, {"name": "pageName()", "description": "Returns the current page's filename in lowercase based on window location.", "scope": "", "scopeKind": ""}, {"name": "isIndexPage()", "description": "Checks if current page is index.html.", "scope": "", "scopeKind": ""}, {"name": "isHomePage()", "description": "Checks if current page is home.html.", "scope": "", "scopeKind": ""}, {"name": "isVideoDetailPage()", "description": "Checks if current page is video-detail.html.", "scope": "", "scopeKind": ""}, {"name": "isLoginPage()", "description": "Checks if current page is login.html.", "scope": "", "scopeKind": ""}, {"name": "isMyPlanPage()", "description": "Checks if current page is myplan.html or my-plan.html.", "scope": "", "scopeKind": ""}, {"name": "installGlobalKeyDispatcher(handler)", "description": "Sets up global event listeners for remote control and keyboard events, dispatching actions based on key presses.", "scope": "", "scopeKind": ""}, {"name": "handleBackNavigation()", "description": "Handles navigation logic for the back button depending on current page.", "scope": "", "scopeKind": ""}, {"name": "activate(el)", "description": "Activates an element, either by calling its click method or navigating to its href.", "scope": "", "scopeKind": ""}, {"name": "initVideoDetail()", "description": "Initializes focus management and event handling for the Video Detail page, including button actions and navigation.", "scope": "", "scopeKind": ""}, {"name": "AnonymousFunction241938b10100(ev)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "AnonymousFunction241938b10200(e)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "AnonymousFunction241938b10300(btn, idx)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "AnonymousFunction241938b10400(btn)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "AnonymousFunction241938b10500()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "AnonymousFunction241938b10600(inp)", "scope": "initVideoDetail", "scopeKind": "function", "description": "unavailable"}, {"name": "AnonymousFunction241938b10700()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "AnonymousFunction241938b10800()", "scope": "AnonymousFunction241938b10700", "scopeKind": "function", "description": "unavailable"}, {"name": "AnonymousFunction241938b10900()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "TIZEN()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "debounceKey(interval)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "restoreOr(fallbackEl)", "scope": "FocusMemory", "scopeKind": "class", "description": "unavailable"}, {"name": "save()", "scope": "FocusMemory", "scopeKind": "class", "description": "unavailable"}, {"name": "slice((ctx || document).querySelectorAll(sel))", "scope": "Array", "scopeKind": "class", "description": "unavailable"}], "calls": ["document.querySelector", "document.querySelectorAll", "window.location.href", "tryFocus", "installGlobalKeyDispatcher", "handleBackNavigation"], "search-terms": ["Smart TV remote navigation", "Video Detail page focus management", "TV remote key codes", "Tizen remote key handling", "focus restoration", "page identification", "TV app keyboard events", "TV remote page-specific logic"], "state": 2, "file_id": 29, "knowledge_revision": 135, "git_revision": "", "ctags": [{"_type": "tag", "name": "AnonymousFunction241938b10100", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/app.js", "pattern": "/^    document.addEventListener('tizenhwkey', function (ev) {$/", "language": "JavaScript", "kind": "function", "signature": "(ev)"}, {"_type": "tag", "name": "AnonymousFunction241938b10200", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/app.js", "pattern": "/^    document.addEventListener('keydown', function (e) {$/", "language": "JavaScript", "kind": "function", "signature": "(e)"}, {"_type": "tag", "name": "AnonymousFunction241938b10300", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/app.js", "pattern": "/^    panelButtons.forEach(function (btn, idx) {$/", "language": "JavaScript", "kind": "function", "signature": "(btn, idx)"}, {"_type": "tag", "name": "AnonymousFunction241938b10400", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/app.js", "pattern": "/^    panelButtons.forEach(function (btn) {$/", "language": "JavaScript", "kind": "function", "signature": "(btn)"}, {"_type": "tag", "name": "AnonymousFunction241938b10500", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/app.js", "pattern": "/^      btn.addEventListener('click', function () {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "AnonymousFunction241938b10600", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/app.js", "pattern": "/^    installGlobalKeyDispatcher(function (inp) {$/", "language": "JavaScript", "kind": "function", "signature": "(inp)", "scope": "initVideoDetail", "scopeKind": "function"}, {"_type": "tag", "name": "AnonymousFunction241938b10700", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/app.js", "pattern": "/^    document.addEventListener('DOMContentLoaded', function () {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "AnonymousFunction241938b10800", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/app.js", "pattern": "/^        installGlobalKeyDispatcher(function () { return false; });$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "AnonymousFunction241938b10700", "scopeKind": "function"}, {"_type": "tag", "name": "AnonymousFunction241938b10900", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/app.js", "pattern": "/^      installGlobalKeyDispatcher(function () { return false; });$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "Array", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/app.js", "pattern": "/^  function qsa(sel, ctx) { return Array.prototype.slice.call((ctx || document).querySelectorAll(/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "BACK", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/app.js", "pattern": "/^    BACK: 'Backspace', \\/\\/ desktop fallback$/", "language": "JavaScript", "kind": "property", "scope": "Keys", "scopeKind": "class"}, {"_type": "tag", "name": "DOWN", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/app.js", "pattern": "/^    DOWN: 'ArrowDown',$/", "language": "JavaScript", "kind": "property", "scope": "Keys", "scopeKind": "class"}, {"_type": "tag", "name": "ENTER", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/app.js", "pattern": "/^    ENTER: 'Enter',$/", "language": "JavaScript", "kind": "property", "scope": "Keys", "scopeKind": "class"}, {"_type": "tag", "name": "FAST_FORWARD", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/app.js", "pattern": "/^    FAST_FORWARD: 'MediaFastForward',$/", "language": "JavaScript", "kind": "property", "scope": "Keys", "scopeKind": "class"}, {"_type": "tag", "name": "FocusMemory", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/app.js", "pattern": "/^  var FocusMemory = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "HOME", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/app.js", "pattern": "/^    HOME: 'Home'$/", "language": "JavaScript", "kind": "property", "scope": "Keys", "scopeKind": "class"}, {"_type": "tag", "name": "Keys", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/app.js", "pattern": "/^  var Keys = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "LEFT", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/app.js", "pattern": "/^    LEFT: 'ArrowLeft',$/", "language": "JavaScript", "kind": "property", "scope": "Keys", "scopeKind": "class"}, {"_type": "tag", "name": "PAUSE", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/app.js", "pattern": "/^    PAUSE: 'MediaPause',$/", "language": "JavaScript", "kind": "property", "scope": "Keys", "scopeKind": "class"}, {"_type": "tag", "name": "PLAY", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/app.js", "pattern": "/^    PLAY: 'MediaPlay',$/", "language": "JavaScript", "kind": "property", "scope": "Keys", "scopeKind": "class"}, {"_type": "tag", "name": "PLAY_PAUSE", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/app.js", "pattern": "/^    PLAY_PAUSE: 'MediaPlayPause',$/", "language": "JavaScript", "kind": "property", "scope": "Keys", "scopeKind": "class"}, {"_type": "tag", "name": "REWIND", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/app.js", "pattern": "/^    REWIND: 'MediaRewind',$/", "language": "JavaScript", "kind": "property", "scope": "Keys", "scopeKind": "class"}, {"_type": "tag", "name": "RIGHT", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/app.js", "pattern": "/^    RIGHT: 'ArrowRight',$/", "language": "JavaScript", "kind": "property", "scope": "Keys", "scopeKind": "class"}, {"_type": "tag", "name": "SPACE", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/app.js", "pattern": "/^    SPACE: ' ',$/", "language": "JavaScript", "kind": "property", "scope": "Keys", "scopeKind": "class"}, {"_type": "tag", "name": "STOP", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/app.js", "pattern": "/^    STOP: 'MediaStop',$/", "language": "JavaScript", "kind": "property", "scope": "Keys", "scopeKind": "class"}, {"_type": "tag", "name": "TIZEN", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/app.js", "pattern": "/^  var TIZEN = (function () {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "UP", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/app.js", "pattern": "/^    UP: 'ArrowUp',$/", "language": "JavaScript", "kind": "property", "scope": "Keys", "scopeKind": "class"}, {"_type": "tag", "name": "activate", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/app.js", "pattern": "/^  function activate(el) {$/", "language": "JavaScript", "kind": "function", "signature": "(el)"}, {"_type": "tag", "name": "clamp", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/app.js", "pattern": "/^  function clamp(v, min, max) { return Math.max(min, Math.min(max, v)); }$/", "language": "JavaScript", "kind": "function", "signature": "(v, min, max)"}, {"_type": "tag", "name": "debounceKey", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/app.js", "pattern": "/^  function debounceKey(interval) {$/", "language": "JavaScript", "kind": "function", "signature": "(interval)"}, {"_type": "tag", "name": "handleBackNavigation", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/app.js", "pattern": "/^  function handleBackNavigation() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "initVideoDetail", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/app.js", "pattern": "/^  function initVideoDetail() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "installGlobalKeyDispatcher", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/app.js", "pattern": "/^  function installGlobalKeyDispatcher(handler) {$/", "language": "JavaScript", "kind": "function", "signature": "(handler)"}, {"_type": "tag", "name": "isHomePage", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/app.js", "pattern": "/^  function isHomePage() { return pageName() === 'home.html'; }$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "isIndexPage", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/app.js", "pattern": "/^  function isIndexPage() { return pageName() === 'index.html'; }$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "isLoginPage", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/app.js", "pattern": "/^  function isLoginPage() { return pageName() === 'login.html'; }$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "isMyPlanPage", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/app.js", "pattern": "/^  function isMyPlanPage() { return pageName() === 'myplan.html' || pageName() === 'my-plan.html'/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "isVideoDetailPage", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/app.js", "pattern": "/^  function isVideoDetailPage() { return pageName() === 'video-detail.html'; }$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "lastByPage", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/app.js", "pattern": "/^    lastByPage: {},$/", "language": "JavaScript", "kind": "property", "scope": "FocusMemory", "scopeKind": "class"}, {"_type": "tag", "name": "lastKeyTime", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/app.js", "pattern": "/^  var lastKeyTime = 0;$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "pageName", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/app.js", "pattern": "/^  function pageName() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "qs", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/app.js", "pattern": "/^  function qs(sel, ctx) { return (ctx || document).querySelector(sel); }$/", "language": "JavaScript", "kind": "function", "signature": "(sel, ctx)"}, {"_type": "tag", "name": "qsa", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/app.js", "pattern": "/^  function qsa(sel, ctx) { return Array.prototype.slice.call((ctx || document).querySelectorAll(/", "language": "JavaScript", "kind": "function", "signature": "(sel, ctx)"}, {"_type": "tag", "name": "restoreOr", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/app.js", "pattern": "/^    restoreOr: function (fallbackEl) {$/", "language": "JavaScript", "kind": "method", "signature": "(fallbackEl)", "scope": "FocusMemory", "scopeKind": "class"}, {"_type": "tag", "name": "save", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/app.js", "pattern": "/^    save: function () {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "FocusMemory", "scopeKind": "class"}, {"_type": "tag", "name": "slice", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/app.js", "pattern": "/^  function qsa(sel, ctx) { return Array.prototype.slice.call((ctx || document).querySelectorAll(/", "language": "JavaScript", "kind": "method", "signature": "((ctx || document).querySelectorAll(sel))", "scope": "Array", "scopeKind": "class"}, {"_type": "tag", "name": "tryFocus", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/app.js", "pattern": "/^  function tryFocus(el) {$/", "language": "JavaScript", "kind": "function", "signature": "(el)"}], "hash": "86319a80c934be0bc0c5f54b9563e762", "format-version": 4, "code-base-name": "smart-tv-app", "filename": "assets/app.js", "fields": [{"name": "BACK: 'Backspace', \\/\\/ desktop fallback", "scope": "Keys", "scopeKind": "class", "description": "unavailable"}, {"name": "DOWN: 'ArrowDown',", "scope": "Keys", "scopeKind": "class", "description": "unavailable"}, {"name": "ENTER: 'Enter',", "scope": "Keys", "scopeKind": "class", "description": "unavailable"}, {"name": "FAST_FORWARD: 'MediaFastForward',", "scope": "Keys", "scopeKind": "class", "description": "unavailable"}, {"name": "HOME: 'Home'", "scope": "Keys", "scopeKind": "class", "description": "unavailable"}, {"name": "LEFT: 'ArrowLeft',", "scope": "Keys", "scopeKind": "class", "description": "unavailable"}, {"name": "PAUSE: 'MediaPause',", "scope": "Keys", "scopeKind": "class", "description": "unavailable"}, {"name": "PLAY: 'MediaPlay',", "scope": "Keys", "scopeKind": "class", "description": "unavailable"}, {"name": "PLAY_PAUSE: 'MediaPlayPause',", "scope": "Keys", "scopeKind": "class", "description": "unavailable"}, {"name": "REWIND: 'MediaRewind',", "scope": "Keys", "scopeKind": "class", "description": "unavailable"}, {"name": "RIGHT: 'ArrowRight',", "scope": "Keys", "scopeKind": "class", "description": "unavailable"}, {"name": "SPACE: ' ',", "scope": "Keys", "scopeKind": "class", "description": "unavailable"}, {"name": "STOP: 'MediaStop',", "scope": "Keys", "scopeKind": "class", "description": "unavailable"}, {"name": "UP: 'ArrowUp',", "scope": "Keys", "scopeKind": "class", "description": "unavailable"}, {"name": "lastByPage: {},", "scope": "FocusMemory", "scopeKind": "class", "description": "unavailable"}, {"name": "var lastKeyTime = 0;", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"135": ""}]}