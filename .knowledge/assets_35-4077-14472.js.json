{"is_source_file": true, "format": "JavaScript", "description": "This file initializes and manages scaling, background image setup, and user interaction for a specific screen within a smart TV application. It dynamically scales the UI based on window size, attempts to load an associated background image from possible paths, and sets up keyboard navigation for icon buttons.", "external_files": ["./figma_screen_4077-14472.json", "/home/kavia/workspace/code-generation/attachments/screen_4077:14472.json"], "external_methods": ["document.getElementById", "fetch", "requestAnimationFrame", "cancelAnimationFrame", "addEventListener", "removeEventListener"], "published": [], "classes": [], "methods": [{"name": "init()", "description": "Initializes the screen by setting up scaling, background, and button interactions.", "scope": "", "scopeKind": ""}, {"name": "applyScale()", "description": "Calculates and applies the scale transformation to the root element based on screen size.", "scope": "init", "scopeKind": "function"}, {"name": "scheduleScale()", "description": "Schedules a call to applyScale using requestAnimationFrame, cancelling previous schedules if any.", "scope": "init", "scopeKind": "function"}, {"name": "setBackgroundFromPath(path)", "description": "Sets the background image of a specific div based on the provided image path.", "scope": "init", "scopeKind": "function"}, {"name": "findAnyImage(node)", "description": "Recursively searches a node object for an image path, returns the first found.", "scope": "init", "scopeKind": "function"}, {"name": "fetchJSONSequential(paths, idx)", "description": "Attempts to fetch JSON data from a list of paths sequentially until a successful fetch.", "scope": "init", "scopeKind": "function"}, {"name": "AnonymousFunction3381d3660100(f)", "scope": "init.findAnyImage.walk", "scopeKind": "function", "description": "unavailable"}, {"name": "AnonymousFunction3381d3660200(r)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "AnonymousFunction3381d3660300()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "AnonymousFunction3381d3660400(data)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "AnonymousFunction3381d3660500()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "AnonymousFunction3381d3660600(btn, idx)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "AnonymousFunction3381d3660700(e)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "AnonymousFunction3381d3660800()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "walk(n)", "scope": "init.findAnyImage", "scopeKind": "function", "description": "unavailable"}], "calls": ["document.getElementById", "fetch", "requestAnimationFrame", "cancelAnimationFrame", "addEventListener", "removeEventListener", "find", "then", "catch", "forEach", "click", "focus"], "search-terms": ["dynamic screen scaling", "background image JSON fetch", "icon button keyboard navigation", "smart TV app initialization", "responsive UI JavaScript"], "state": 2, "file_id": 26, "knowledge_revision": 114, "git_revision": "645a07d14e0184351d1d7b11a25affc4fc315ac9", "revision_history": [{"100": "5ac7a3b16d8c879324ba7747020b0d48184e7763"}, {"103": "5ac7a3b16d8c879324ba7747020b0d48184e7763"}, {"106": "8d47af2871953f97301c0de29fc9ea1bbd65fb1e"}, {"109": "be2c073f3f9bd62d39afe0e676b548423e29664b"}, {"114": "645a07d14e0184351d1d7b11a25affc4fc315ac9"}], "ctags": [{"_type": "tag", "name": "AnonymousFunction3381d3660100", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/35-4077-14472.js", "pattern": "/^          var img = n.fills.find(function(f){ return f.type === 'IMAGE' || f.type === 'BITMAP'; /", "language": "JavaScript", "kind": "function", "signature": "(f)", "scope": "init.findAnyImage.walk", "scopeKind": "function"}, {"_type": "tag", "name": "AnonymousFunction3381d3660200", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/35-4077-14472.js", "pattern": "/^        .then(function(r){ return r.ok ? r.json() : Promise.reject(); })$/", "language": "JavaScript", "kind": "function", "signature": "(r)"}, {"_type": "tag", "name": "AnonymousFunction3381d3660300", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/35-4077-14472.js", "pattern": "/^        .catch(function(){ return fetchJSONSequential(paths, idx+1); });$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "AnonymousFunction3381d3660400", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/35-4077-14472.js", "pattern": "/^      .then(function(data){$/", "language": "JavaScript", "kind": "function", "signature": "(data)"}, {"_type": "tag", "name": "AnonymousFunction3381d3660500", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/35-4077-14472.js", "pattern": "/^      .catch(function(){ \\/* no-op if not found *\\/ });$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "AnonymousFunction3381d3660600", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/35-4077-14472.js", "pattern": "/^    iconBtns.forEach(function(btn, idx){$/", "language": "JavaScript", "kind": "function", "signature": "(btn, idx)"}, {"_type": "tag", "name": "AnonymousFunction3381d3660700", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/35-4077-14472.js", "pattern": "/^      btn.addEventListener('keydown', function(e){$/", "language": "JavaScript", "kind": "function", "signature": "(e)"}, {"_type": "tag", "name": "AnonymousFunction3381d3660800", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/35-4077-14472.js", "pattern": "/^      btn.addEventListener('click', function(){ \\/* no-op placeholder *\\/ });$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "applyScale", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/35-4077-14472.js", "pattern": "/^    function applyScale() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "init", "scopeKind": "function"}, {"_type": "tag", "name": "fetchJSONSequential", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/35-4077-14472.js", "pattern": "/^    function fetchJSONSequential(paths, idx) {$/", "language": "JavaScript", "kind": "function", "signature": "(paths, idx)", "scope": "init", "scopeKind": "function"}, {"_type": "tag", "name": "findAnyImage", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/35-4077-14472.js", "pattern": "/^    function findAnyImage(node) {$/", "language": "JavaScript", "kind": "function", "signature": "(node)", "scope": "init", "scopeKind": "function"}, {"_type": "tag", "name": "init", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/35-4077-14472.js", "pattern": "/^  function init() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "scheduleScale", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/35-4077-14472.js", "pattern": "/^    function scheduleScale() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "init", "scopeKind": "function"}, {"_type": "tag", "name": "setBackgroundFromPath", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/35-4077-14472.js", "pattern": "/^    function setBackgroundFromPath(path) {$/", "language": "JavaScript", "kind": "function", "signature": "(path)", "scope": "init", "scopeKind": "function"}, {"_type": "tag", "name": "walk", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/35-4077-14472.js", "pattern": "/^      function walk(n) {$/", "language": "JavaScript", "kind": "function", "signature": "(n)", "scope": "init.findAnyImage", "scopeKind": "function"}], "hash": "0b85116a3ec4af37f5063ff85ea2c230", "format-version": 4, "code-base-name": "smart-tv-app", "filename": "assets/35-4077-14472.js"}