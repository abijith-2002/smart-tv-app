{"is_source_file": true, "format": "JavaScript", "description": "This file contains JavaScript code responsible for initializing and rendering a specific screen UI in a smart TV app. It fetches JSON data describing visual elements and populates DOM elements accordingly, handling images, text, and user interactions.", "external_files": ["/home/kavia/workspace/code-generation/attachments/screen_4077:14472.json"], "external_methods": ["document.getElementById", "document.querySelector", "document.querySelectorAll", "Array.prototype.slice.call", "fetch", "console.error"], "published": ["init"], "classes": [], "methods": [{"name": "init()", "description": "Initializes the screen by fetching JSON data, parsing it, and populating DOM elements accordingly, setting up event listeners for navigation.", "scope": "", "scopeKind": ""}, {"name": "AnonymousFunction3381d3660100(f)", "scope": "init.getImagePathFromFills", "scopeKind": "function", "description": "unavailable"}, {"name": "AnonymousFunction3381d3660200(n)", "scope": "init.applyFromJson", "scopeKind": "function", "description": "unavailable"}, {"name": "AnonymousFunction3381d3660300(n)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "AnonymousFunction3381d3660400(n)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "AnonymousFunction3381d3660500(t)", "scope": "init.applyFromJson.findFirst", "scopeKind": "function", "description": "unavailable"}, {"name": "AnonymousFunction3381d3660600(t)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "AnonymousFunction3381d3660700(n)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "AnonymousFunction3381d3660800(btn, i)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "AnonymousFunction3381d3660900(c)", "scope": "init.applyFromJson.collectImageNodes", "scopeKind": "function", "description": "unavailable"}, {"name": "AnonymousFunction3381d3660a00(btn, i)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "AnonymousFunction3381d3660b00(el, i)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "AnonymousFunction3381d3660c00(e)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "AnonymousFunction3381d3660d00(r)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "AnonymousFunction3381d3660e00(data)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "AnonymousFunction3381d3660f00()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "applyAbsFrame(el, bb, base)", "scope": "init", "scopeKind": "function", "description": "unavailable"}, {"name": "applyFromJson(data)", "scope": "init", "scopeKind": "function", "description": "unavailable"}, {"name": "collectImageNodes(node, acc)", "scope": "init.applyFromJson", "scopeKind": "function", "description": "unavailable"}, {"name": "findAnyImage(node)", "scope": "init.applyFromJson", "scopeKind": "function", "description": "unavailable"}, {"name": "findFirst(regex)", "scope": "init.applyFromJson", "scopeKind": "function", "description": "unavailable"}, {"name": "findTextByExact(exact)", "scope": "init.applyFromJson", "scopeKind": "function", "description": "unavailable"}, {"name": "findTextByTypo(typokey)", "scope": "init.applyFromJson", "scopeKind": "function", "description": "unavailable"}, {"name": "focusAt(index)", "scope": "init.applyFromJson", "scopeKind": "function", "description": "unavailable"}, {"name": "getIdx(el)", "scope": "init.applyFromJson", "scopeKind": "function", "description": "unavailable"}, {"name": "getImagePathFromFills(fills)", "scope": "init", "scopeKind": "function", "description": "unavailable"}, {"name": "qs(sel, ctx)", "scope": "init", "scopeKind": "function", "description": "unavailable"}, {"name": "qsa(sel, ctx)", "scope": "init", "scopeKind": "function", "description": "unavailable"}, {"name": "setImgSrc(el, path, isBg)", "scope": "init", "scopeKind": "function", "description": "unavailable"}, {"name": "slice((ctx || document).querySelectorAll(sel))", "scope": "Array", "scopeKind": "class", "description": "unavailable"}, {"name": "tryFocus(el)", "scope": "init", "scopeKind": "function", "description": "unavailable"}, {"name": "walk(node)", "scope": "init.applyFromJson", "scopeKind": "function", "description": "unavailable"}], "calls": ["document.getElementById", "document.querySelector", "document.querySelectorAll", "Array.prototype.slice.call", "fetch", "console.error", "addEventListener", "querySelector", "querySelectorAll", "forEach", "find", "slice", "setAttribute", "textContent", "style", "click"], "search-terms": ["smart-tv-assets-init", "json-background-image", "json-text-nodes", "json_path_figmaimages", "screen-root", "panel-btn", "channel-number", "program-name", "metadata", "jsonFetch"], "state": 2, "file_id": 26, "knowledge_revision": 106, "git_revision": "8d47af2871953f97301c0de29fc9ea1bbd65fb1e", "revision_history": [{"100": "5ac7a3b16d8c879324ba7747020b0d48184e7763"}, {"103": "5ac7a3b16d8c879324ba7747020b0d48184e7763"}, {"106": "8d47af2871953f97301c0de29fc9ea1bbd65fb1e"}], "ctags": [{"_type": "tag", "name": "AnonymousFunction3381d3660100", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/35-4077-14472.js", "pattern": "/^      var img = fills.find(function (f) { return f.type === 'IMAGE' || f.type === 'BITMAP'; });$/", "language": "JavaScript", "kind": "function", "signature": "(f)", "scope": "init.getImagePathFromFills", "scopeKind": "function"}, {"_type": "tag", "name": "AnonymousFunction3381d3660200", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/35-4077-14472.js", "pattern": "/^        var cand = (frame.children || []).find(function (n) { return (n.figma_type === 'FRAME' |/", "language": "JavaScript", "kind": "function", "signature": "(n)", "scope": "init.applyFromJson", "scopeKind": "function"}, {"_type": "tag", "name": "AnonymousFunction3381d3660300", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/35-4077-14472.js", "pattern": "/^        return (textNodes.find(function(n){ return n.typography_ref === typokey; }) || {}).text /", "language": "JavaScript", "kind": "function", "signature": "(n)"}, {"_type": "tag", "name": "AnonymousFunction3381d3660400", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/35-4077-14472.js", "pattern": "/^        return (textNodes.find(function(n){ return (n.text || '').trim() === exact; }) || {}).te/", "language": "JavaScript", "kind": "function", "signature": "(n)"}, {"_type": "tag", "name": "AnonymousFunction3381d3660500", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/35-4077-14472.js", "pattern": "/^        var n = textNodes.find(function(t){ return regex.test((t.text || '').trim()); });$/", "language": "JavaScript", "kind": "function", "signature": "(t)", "scope": "init.applyFromJson.findFirst", "scopeKind": "function"}, {"_type": "tag", "name": "AnonymousFunction3381d3660600", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/35-4077-14472.js", "pattern": "/^        textNodes.forEach(function(t){$/", "language": "JavaScript", "kind": "function", "signature": "(t)"}, {"_type": "tag", "name": "AnonymousFunction3381d3660700", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/35-4077-14472.js", "pattern": "/^        textNodes.forEach(function(n){$/", "language": "JavaScript", "kind": "function", "signature": "(n)"}, {"_type": "tag", "name": "AnonymousFunction3381d3660800", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/35-4077-14472.js", "pattern": "/^        panelButtons.forEach(function(btn, i){$/", "language": "JavaScript", "kind": "function", "signature": "(btn, i)"}, {"_type": "tag", "name": "AnonymousFunction3381d3660900", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/35-4077-14472.js", "pattern": "/^          if (node.children) node.children.forEach(function(c){ collectImageNodes(c, acc); });$/", "language": "JavaScript", "kind": "function", "signature": "(c)", "scope": "init.applyFromJson.collectImageNodes", "scopeKind": "function"}, {"_type": "tag", "name": "AnonymousFunction3381d3660a00", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/35-4077-14472.js", "pattern": "/^        panelButtons.forEach(function(btn, i){$/", "language": "JavaScript", "kind": "function", "signature": "(btn, i)"}, {"_type": "tag", "name": "AnonymousFunction3381d3660b00", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/35-4077-14472.js", "pattern": "/^      focusables.forEach(function (el, i) {$/", "language": "JavaScript", "kind": "function", "signature": "(el, i)"}, {"_type": "tag", "name": "AnonymousFunction3381d3660c00", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/35-4077-14472.js", "pattern": "/^      document.addEventListener('keydown', function (e) {$/", "language": "JavaScript", "kind": "function", "signature": "(e)"}, {"_type": "tag", "name": "AnonymousFunction3381d3660d00", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/35-4077-14472.js", "pattern": "/^    fetch(jsonPath).then(function (r) {$/", "language": "JavaScript", "kind": "function", "signature": "(r)"}, {"_type": "tag", "name": "AnonymousFunction3381d3660e00", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/35-4077-14472.js", "pattern": "/^    }).then(function (data) {$/", "language": "JavaScript", "kind": "function", "signature": "(data)"}, {"_type": "tag", "name": "AnonymousFunction3381d3660f00", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/35-4077-14472.js", "pattern": "/^    }).catch(function () {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "Array", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/35-4077-14472.js", "pattern": "/^    function qsa(sel, ctx) { return Array.prototype.slice.call((ctx || document).querySelectorAl/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "applyAbsFrame", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/35-4077-14472.js", "pattern": "/^    function applyAbsFrame(el, bb, base) {$/", "language": "JavaScript", "kind": "function", "signature": "(el, bb, base)", "scope": "init", "scopeKind": "function"}, {"_type": "tag", "name": "applyFromJson", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/35-4077-14472.js", "pattern": "/^    function applyFromJson(data) {$/", "language": "JavaScript", "kind": "function", "signature": "(data)", "scope": "init", "scopeKind": "function"}, {"_type": "tag", "name": "base", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/35-4077-14472.js", "pattern": "/^      var base = { x: 17311, y: 23318, width: 1920, height: 1080 };$/", "language": "JavaScript", "kind": "class", "scope": "init.applyFromJson", "scopeKind": "class"}, {"_type": "tag", "name": "collectImageNodes", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/35-4077-14472.js", "pattern": "/^        function collectImageNodes(node, acc) {$/", "language": "JavaScript", "kind": "function", "signature": "(node, acc)", "scope": "init.applyFromJson", "scopeKind": "function"}, {"_type": "tag", "name": "findAnyImage", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/35-4077-14472.js", "pattern": "/^        function findAnyImage(node) {$/", "language": "JavaScript", "kind": "function", "signature": "(node)", "scope": "init.applyFromJson", "scopeKind": "function"}, {"_type": "tag", "name": "findFirst", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/35-4077-14472.js", "pattern": "/^      function findFirst(regex) {$/", "language": "JavaScript", "kind": "function", "signature": "(regex)", "scope": "init.applyFromJson", "scopeKind": "function"}, {"_type": "tag", "name": "findTextByExact", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/35-4077-14472.js", "pattern": "/^      function findTextByExact(exact) {$/", "language": "JavaScript", "kind": "function", "signature": "(exact)", "scope": "init.applyFromJson", "scopeKind": "function"}, {"_type": "tag", "name": "findTextByTypo", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/35-4077-14472.js", "pattern": "/^      function findTextByTypo(typokey) {$/", "language": "JavaScript", "kind": "function", "signature": "(typokey)", "scope": "init.applyFromJson", "scopeKind": "function"}, {"_type": "tag", "name": "focusAt", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/35-4077-14472.js", "pattern": "/^      function focusAt(index) {$/", "language": "JavaScript", "kind": "function", "signature": "(index)", "scope": "init.applyFromJson", "scopeKind": "function"}, {"_type": "tag", "name": "getIdx", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/35-4077-14472.js", "pattern": "/^      function getIdx(el) {$/", "language": "JavaScript", "kind": "function", "signature": "(el)", "scope": "init.applyFromJson", "scopeKind": "function"}, {"_type": "tag", "name": "getImagePathFromFills", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/35-4077-14472.js", "pattern": "/^    function getImagePathFromFills(fills) {$/", "language": "JavaScript", "kind": "function", "signature": "(fills)", "scope": "init", "scopeKind": "function"}, {"_type": "tag", "name": "height", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/35-4077-14472.js", "pattern": "/^      var base = { x: 17311, y: 23318, width: 1920, height: 1080 };$/", "language": "JavaScript", "kind": "property", "scope": "init.applyFromJson.base", "scopeKind": "class"}, {"_type": "tag", "name": "init", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/35-4077-14472.js", "pattern": "/^  function init() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "qs", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/35-4077-14472.js", "pattern": "/^    function qs(sel, ctx) { return (ctx || document).querySelector(sel); }$/", "language": "JavaScript", "kind": "function", "signature": "(sel, ctx)", "scope": "init", "scopeKind": "function"}, {"_type": "tag", "name": "qsa", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/35-4077-14472.js", "pattern": "/^    function qsa(sel, ctx) { return Array.prototype.slice.call((ctx || document).querySelectorAl/", "language": "JavaScript", "kind": "function", "signature": "(sel, ctx)", "scope": "init", "scopeKind": "function"}, {"_type": "tag", "name": "setImgSrc", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/35-4077-14472.js", "pattern": "/^    function setImgSrc(el, path, isBg) {$/", "language": "JavaScript", "kind": "function", "signature": "(el, path, isBg)", "scope": "init", "scopeKind": "function"}, {"_type": "tag", "name": "slice", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/35-4077-14472.js", "pattern": "/^    function qsa(sel, ctx) { return Array.prototype.slice.call((ctx || document).querySelectorAl/", "language": "JavaScript", "kind": "method", "signature": "((ctx || document).querySelectorAll(sel))", "scope": "Array", "scopeKind": "class"}, {"_type": "tag", "name": "tryFocus", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/35-4077-14472.js", "pattern": "/^    function tryFocus(el) { if (!el) return; try { el.focus({ preventScroll: true }); } catch (e/", "language": "JavaScript", "kind": "function", "signature": "(el)", "scope": "init", "scopeKind": "function"}, {"_type": "tag", "name": "walk", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/35-4077-14472.js", "pattern": "/^      function walk(node) {$/", "language": "JavaScript", "kind": "function", "signature": "(node)", "scope": "init.applyFromJson", "scopeKind": "function"}, {"_type": "tag", "name": "width", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/35-4077-14472.js", "pattern": "/^      var base = { x: 17311, y: 23318, width: 1920, height: 1080 };$/", "language": "JavaScript", "kind": "property", "scope": "init.applyFromJson.base", "scopeKind": "class"}, {"_type": "tag", "name": "x", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/35-4077-14472.js", "pattern": "/^      var base = { x: 17311, y: 23318, width: 1920, height: 1080 };$/", "language": "JavaScript", "kind": "property", "scope": "init.applyFromJson.base", "scopeKind": "class"}, {"_type": "tag", "name": "y", "path": "/home/kavia/workspace/code-generation/smart-tv-app/assets/35-4077-14472.js", "pattern": "/^      var base = { x: 17311, y: 23318, width: 1920, height: 1080 };$/", "language": "JavaScript", "kind": "property", "scope": "init.applyFromJson.base", "scopeKind": "class"}], "hash": "26ece10999bf2bfba32a01971a825ff3", "format-version": 4, "code-base-name": "smart-tv-app", "filename": "assets/35-4077-14472.js", "fields": [{"name": "var base = { x: 17311, y: 23318, width: 1920, height: 1080 };", "scope": "init.applyFromJson.base", "scopeKind": "class", "description": "unavailable"}]}